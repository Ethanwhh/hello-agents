# 第四章 智能体经典范式构建



## 4.1 为何要亲手“造轮子”？





### 4.1.1 手动实现智能体范式的价值



### 4.1.2 开发环境配置





## 4.2 范式一：ReAct (Reason + Act)





### 4.2.1 ReAct 的工作流程





### 4.2.2 工具的定义与实现





#### 4.2.2.1 WebSearchTool 的实现





#### 4.2.2.2 CalculatorTool 的实现





### 4.2.3 ReAct 智能体的编码实现





#### 4.2.3.1 系统提示词设计





#### 4.2.3.2 核心循环的实现





#### 4.2.3.3 输出解析器的实现





#### 4.2.3.4 工具调用与执行





#### 4.2.3.5 观测结果的整合





### 4.2.4 ReAct 的特点、局限性与调试技巧





## 4.3 范式二：Plan-and-Solve





### 4.3.1 Plan-and-Solve 的工作原理





### 4.3.2 Plan-and-Solve 智能体的编码实现





#### 4.3.2.1 规划器 (Planner) 的实现





#### 4.3.2.2 执行器 (Executor) 的实现





#### 4.3.2.3 状态管理与结果整合





### 4.3.3 Plan-and-Solve 的适用场景与范式对比





## 4.4 范式三：Reflection





### 4.4.1 Reflection 机制的核心思想





### 4.4.2 Reflection 智能体的编码实现





#### 4.4.2.1 生成器 (Generator) 的实现





#### 4.4.2.2 反思器 (Reflector) 的实现





#### 4.4.2.3 反思与迭代循环





### 4.4.3 Reflection 机制的成本收益分析





## 4.5 本章小结

不同 Agent Loop 的选择与应用



## 参考文献

